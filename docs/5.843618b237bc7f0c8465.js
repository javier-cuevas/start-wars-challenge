(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{ly4S:function(t,e,i){"use strict";i.r(e),i.d(e,"StarWardsModule",function(){return O});var n=i("ofXK"),r=i("tyNb"),s=i("fXoL"),c=i("7o/Q");function a(t=-1){return e=>e.lift(new o(t,e))}class o{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new b(t,this.count,this.source))}}class b extends c.a{constructor(t,e,i){super(t),this.count=e,this.source=i}error(t){if(!this.isStopped){const{source:e,count:i}=this;if(0===i)return super.error(t);i>-1&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}}}var l=i("JIr8"),u=i("z6cu"),p=i("tk/3"),d=i("AytR");let h=(()=>{class t{constructor(t){this.http=t,this.httpHeader={headers:new p.c({"Content-Type":"application/json"})}}getlist(){return this.http.get(d.a.urlapi+"films/",this.httpHeader).pipe(a(1),Object(l.a)(this.error))}getDetail(t){return this.http.get(`${d.a.urlapi}films/${t}/`,this.httpHeader).pipe(a(1),Object(l.a)(this.error))}getStarships(t){return this.http.get(t,this.httpHeader).pipe(a(1),Object(l.a)(this.error))}error(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),Object(u.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(p.a))},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),f=(()=>{class t{transform(t){return t.replace(/\r\n/g,"<br>")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Hb({name:"format",type:t,pure:!0}),t})();const m=function(t){return["../detail/",t]};function v(t,e){if(1&t&&(s.Lb(0),s.Nb(1,"div",6),s.Nb(2,"div",7),s.Nb(3,"div",8),s.Nb(4,"p",9),s.wc(5,"Episode"),s.Mb(),s.Nb(6,"h1"),s.wc(7),s.Mb(),s.Mb(),s.Nb(8,"div",10),s.Nb(9,"a",11),s.Nb(10,"h4",12),s.wc(11),s.Mb(),s.Mb(),s.Nb(12,"h5",13),s.wc(13),s.Mb(),s.Nb(14,"h6"),s.wc(15),s.ac(16,"date"),s.Mb(),s.Jb(17,"p",14),s.ac(18,"format"),s.Mb(),s.Mb(),s.Mb(),s.Kb()),2&t){const t=e.$implicit,i=e.index;s.wb(7),s.xc(null==t?null:t.episode_id),s.wb(2),s.fc("routerLink",s.ic(11,m,i+1)),s.wb(2),s.xc(null==t?null:t.title),s.wb(2),s.xc(null==t?null:t.director),s.wb(2),s.xc(s.cc(16,6,null==t?null:t.release_date,"yyyy")),s.wb(2),s.fc("innerHTML",s.bc(18,9,null==t?null:t.opening_crawl),s.oc)}}let g=(()=>{class t{constructor(t){this.api=t}ngOnInit(){this.getListMovies()}getListMovies(){return this.api.getlist().subscribe(t=>{this.films=t.results,this.films.sort((t,e)=>Number(e.release_date)-Number(t.release_date))})}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(h))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-list"]],decls:8,vars:1,consts:[[1,"sw-list","section-image",2,"background-image","url('assets/images/bg-starts-02.jpg')"],[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"title"],[4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","card-sw-list"],[1,"card-episode"],[1,"mt-3"],[1,"card-content"],[3,"routerLink"],[1,"card-title"],[1,"category","text-muted"],[1,"card-description",3,"innerHTML"]],template:function(t,e){1&t&&(s.Nb(0,"div",0),s.Nb(1,"div",1),s.Nb(2,"div",2),s.Nb(3,"div",3),s.Nb(4,"h2",4),s.wc(5,"Film List"),s.Mb(),s.Mb(),s.Mb(),s.Nb(6,"div",2),s.uc(7,v,19,13,"ng-container",5),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.wb(7),s.fc("ngForOf",e.films))},directives:[n.j,r.b],pipes:[n.d,f],encapsulation:2}),t})(),w=(()=>{class t{transform(t){return t.split("").reverse().join("")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Hb({name:"revert",type:t,pure:!0}),t})();function M(t,e){if(1&t&&(s.Lb(0),s.Nb(1,"p",11),s.wc(2),s.ac(3,"revert"),s.Mb(),s.Kb()),2&t){const t=e.$implicit;s.wb(2),s.yc(" ",s.bc(3,1,null==t?null:t.name)," ")}}function N(t,e){if(1&t&&(s.Lb(0),s.Nb(1,"p",11),s.wc(2),s.ac(3,"revert"),s.Mb(),s.Kb()),2&t){const t=e.$implicit;s.wb(2),s.yc(" ",s.bc(3,1,null==t?null:t.name)," ")}}function y(t,e){if(1&t&&(s.Lb(0),s.Nb(1,"p",11),s.wc(2),s.ac(3,"revert"),s.Mb(),s.Kb()),2&t){const t=e.$implicit;s.wb(2),s.yc(" ",s.bc(3,1,null==t?null:t.name)," ")}}const j=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"",children:[{path:"list",component:g,data:{title:"Lista"}},{path:"detail/:id",component:(()=>{class t{constructor(t,e){this.actRoute=t,this.api=e,this.starships=[],this.characters=[],this.planets=[],this.film_id=this.actRoute.snapshot.params.id}ngOnInit(){this.getDetailMovie()}getDetailMovie(){return this.api.getDetail(this.film_id).subscribe(t=>{this.detail=t,this.getMoreInfo(this.detail.starships,this.starships),this.getMoreInfo(this.detail.characters,this.characters),this.getMoreInfo(this.detail.planets,this.planets)})}getMoreInfo(t,e){return i=this,void 0,r=function*(){t.forEach(t=>{let i=t.replace(/^http:\/\//i,"https://");this.api.getStarships(i).subscribe(t=>{e.push({name:t.name})})})},new((n=void 0)||(n=Promise))(function(t,e){function s(t){try{a(r.next(t))}catch(i){e(i)}}function c(t){try{a(r.throw(t))}catch(i){e(i)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(t){t(i)})).then(s,c)}a((r=r.apply(i,[])).next())});var i,n,r}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(r.a),s.Ib(h))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-detail"]],decls:31,vars:5,consts:[[1,"page-header","section-image",2,"background-image","url('../assets/images/bg-starts.jpg')"],[1,"main","main-raised"],[1,"detail"],[1,"container"],[1,"row"],[1,"col-md-8","col-md-offset-2","text-center"],[1,"title"],[1,"section-space"],[1,"col-md-4"],[1,"info","info-horizontal"],[1,"icon","icon-info"],[1,"description"],[1,"info-title"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Nb(1,"div",1),s.Nb(2,"div",2),s.Nb(3,"div",3),s.Nb(4,"div",4),s.Nb(5,"div",5),s.Nb(6,"h2",6),s.wc(7),s.Mb(),s.Jb(8,"div",7),s.Mb(),s.Mb(),s.Nb(9,"div",4),s.Nb(10,"div",8),s.Nb(11,"div",9),s.Jb(12,"div",10),s.Nb(13,"div",11),s.Nb(14,"h4",12),s.wc(15,"Naves"),s.Mb(),s.uc(16,M,4,3,"ng-container",13),s.Mb(),s.Mb(),s.Mb(),s.Nb(17,"div",8),s.Nb(18,"div",9),s.Jb(19,"div",10),s.Nb(20,"div",11),s.Nb(21,"h4",12),s.wc(22,"Personajes"),s.Mb(),s.uc(23,N,4,3,"ng-container",13),s.Mb(),s.Mb(),s.Mb(),s.Nb(24,"div",8),s.Nb(25,"div",9),s.Jb(26,"div",10),s.Nb(27,"div",11),s.Nb(28,"h4",12),s.wc(29,"Planetas"),s.Mb(),s.uc(30,y,4,3,"ng-container",13),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.wb(7),s.zc("Episode ",null==e.detail?null:e.detail.episode_id," | ",null==e.detail?null:e.detail.title,""),s.wb(9),s.fc("ngForOf",e.starships),s.wb(7),s.fc("ngForOf",e.characters),s.wb(7),s.fc("ngForOf",e.planets))},directives:[n.j],pipes:[w],encapsulation:2}),t})(),data:{title:"Detalle"}}]}];let L=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(j)],r.c]}),t})(),O=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[n.b,L]]}),t})()}}]);